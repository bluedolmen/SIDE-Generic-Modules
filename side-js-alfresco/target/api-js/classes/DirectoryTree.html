<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>DirectoryTree - UNO &#x2F; Procurement Requisition Project</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="UNO &#x2F; Procurement Requisition Project"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.9.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Bootstrap.html">Bootstrap</a></li>
            
                <li><a href="..&#x2F;classes/Config.html">Config</a></li>
            
                <li><a href="..&#x2F;classes/DirectoryTree.html">DirectoryTree</a></li>
            
                <li><a href="..&#x2F;classes/Group.html">Group</a></li>
            
                <li><a href="..&#x2F;classes/OrderFolder.html">OrderFolder</a></li>
            
                <li><a href="..&#x2F;classes/People.html">People</a></li>
            
                <li><a href="..&#x2F;classes/Person.html">Person</a></li>
            
                <li><a href="..&#x2F;classes/Remote.html">Remote</a></li>
            
                <li><a href="..&#x2F;classes/Rule.html">Rule</a></li>
            
                <li><a href="..&#x2F;classes/Start.html">Start</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/SIDE.Alfresco.Workflow.html">SIDE.Alfresco.Workflow</a></li>
            
                <li><a href="..&#x2F;modules/SIDE.application.initialization.html">SIDE.application.initialization</a></li>
            
                <li><a href="..&#x2F;modules/SIDE.application.requisition.bizrule.html">SIDE.application.requisition.bizrule</a></li>
            
                <li><a href="..&#x2F;modules/SIDE.application.requisition.initialization.html">SIDE.application.requisition.initialization</a></li>
            
                <li><a href="..&#x2F;modules/SIDE.Initialization.html">SIDE.Initialization</a></li>
            
                <li><a href="..&#x2F;modules/SIDE.Procurement.html">SIDE.Procurement</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>DirectoryTree Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l8"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:8</code></a>
        </div>
    

    
        
            Module: <a href="../modules/SIDE.application.initialization.html">SIDE.application.initialization</a><br>
            Parent Module: <a href="../modules/SIDE.Initialization.html">SIDE.Initialization</a>
        
    

    
</div>



<div class="box intro">
    <p>This class creates the directory structure in the baseDir. In parallel,
the corresponding groups are created and the permissions indicated
in the folders attribute are assigned.</p>

<p>Requirement: Provided base groups must be created so nested groups
can be initialized correctly.</p>
</div>


    <div class="constructor">
        <h2>Constructor</h2>
        <div id="method_DirectoryTree" class="method item">
    <h3 class="name"><code>DirectoryTree</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l8"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:8</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

    </div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_browse">browse</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_createApplicationFinalGroups">createApplicationFinalGroups</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_createFolder">createFolder</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_createPermissions">createPermissions</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_initialize">initialize</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_browse" class="method item">
    <h3 class="name"><code>browse</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>hardDirectory</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>softDirectory</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>path</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l75"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:75</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Recursely browses the soft directory (corresponding to the organization)
and creates the real one in the same time. Once the soft directory hasn't
any more children, the application groups, folders and permissions are
set.</p>

<p>Note that organization groups is just a structure which isn't in any ways
related to the formal idea of an entity. Your soft directory is simply
a tree!</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">hardDirectory</code>
                        <span class="type">NodeRef</span>
                    

                    

                    <div class="param-description">
                        <p>the existing parent</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">softDirectory</code>
                        <span class="type">NodeRef</span>
                    

                    

                    <div class="param-description">
                        <p>the current object in the organization's
structure</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">path</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_createApplicationFinalGroups" class="method item">
    <h3 class="name"><code>createApplicationFinalGroups</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l291"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:291</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Creates the application groups for the current parent corresponding
to directory leaves</p>
    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_createFolder" class="method item">
    <h3 class="name"><code>createFolder</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>parent</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l265"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:265</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Creates the folders provided during DirectoryTree instanciation. This
corresponds to leaves in the directory tree.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">parent</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                    

                    

                    <div class="param-description">
                        <p>is the directory under which will be created
the folders</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_createPermissions" class="method item">
    <h3 class="name"><code>createPermissions</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>parent</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>path</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l148"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:148</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Creates the permissions for the provided parent.</p>

<h4>Directories' permissions</h4>

<p>Permissions are created as a set of russian dolls. Imagine the
following directory structure:</p>

<pre class="code"><code class="prettyprint">ACME
  HR
    Staffing
    Training
  Financial
    Payroll
    Accounting
</code></pre>

<p>Permissions will be created as a flattened structure:</p>

<pre class="code"><code class="prettyprint">ACME
ACME_HR
ACME_HR_Staffing
...
ACME_Financial_Payroll
...
</code></pre>

<p>And each group includes all the groups that start with its name. So:</p>

<pre class="code"><code class="prettyprint">ACME includes ACME_HR and ACME_Financial
ACME_HR includes ACME_HR_Staffing and ACME_HR_Training
ACME_Financial includes ACME_Financial_Payroll and ACME_Financial_Accounting
</code></pre>

<p>From a security point of view, this way to manage permissions allows to
prevent users to browse directories not corresponding to those they
are not membership of. Explicit permissions are preferred to inheritance which may be dangerous
because of implicit behavior. In security, explicit rules can be viewed like
everything is denied by default.</p>

<h4>Application permissions</h4>

<p>This part tries to implement this kind of security matrix.</p>

<p>Beside this basic permission structure, you can refine it at the leaves
level with more appropriate basic rights corresponding to your application
requirements. The following rights are generated:</p>

<pre class="code"><code class="prettyprint">NA: Nothing Available
RO: Read Only
</code></pre>

<p>Else if you are a Drafter, you have Read/Write/CreateChildren (kind of RWC).
Otherwise you have Read rights (Kind of RO)</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">parent</code>
                        <span class="type">NodeRef</span>
                    

                    

                    <div class="param-description">
                        <p>is the directory for which permissions are going
to be created.</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">path</code>
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                    

                    

                    <div class="param-description">
                        <p>is the complete path corresponding to the parent
It should normally be deduced from the parent but a bug (?) prevented me to
achieve it, so I needed this path. Don't forget to update the doc if parent
is enough.</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_initialize" class="method item">
    <h3 class="name"><code>initialize</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;src_main_resources_alfresco_webscripts_extension_js_SIDE_application_initialization_DirectoryTree.js.html#l37"><code>src&#x2F;main&#x2F;resources&#x2F;alfresco&#x2F;webscripts&#x2F;extension&#x2F;js&#x2F;SIDE&#x2F;application&#x2F;initialization&#x2F;DirectoryTree.js:37</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Initializes the organization browsing</p>
    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>:
                    
                
            </div>
        </div>
    

    
</div>

                
            </div>
        

        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
